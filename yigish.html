<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PC Yig'ish | N_Comp_Store</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"/>
  <link rel="stylesheet" href="styles.css">

  <style>
    * {
  backdrop-filter:none !important;
}
.overlay, .shadow, .blur {
  display:none !important;
}
.head {
    background: #000;
    padding: 1rem 5%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 1000;
    box-shadow: 0 2px 10px rgba(255, 0, 0, 0.3);
}

.logo h2 {
    font-family: 'Orbitron', sans-serif;
    color: #ff0000;
    font-size: 1.8rem;
    text-shadow: 0 0 10px #ff0000;
}

.nav ul {
    display: flex;
    list-style: none;
}

.nav ul li {
    margin: 0 1rem;
}

.nav ul li a {
    color: #ff0000;
    text-decoration: none;
    font-weight: bold;
    font-size: 1.1rem;
    position: relative;
    transition: 0.3s;
}

.nav ul li a::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    background: #ff0000;
    bottom: -5px;
    left: 0;
    transition: 0.3s;
}

.nav ul li a:hover::after,
.nav ul li a.active::after {
    width: 100%;
}

.nav ul li a.active {
    color: #ff6666;
    text-shadow: 0 0 10px #ff6666;
}

.hamburger {
    display: none;
    color: #ff0000;
    font-size: 1.8rem;
    cursor: pointer;
}
.h1 { text-align:center; font-family:'Orbitron'; font-size:4rem; color:#ff0000; text-shadow:0 0 20px #ff0000; margin:30px 0; 
}
.container { 
  max-width:1200px; 
  margin:0 auto; 
  padding:20px;
}
.parts{
    margin-top: 120px;
    display: flex;
    flex-wrap: wrap;
    gap: 25px;
    justify-content: center;
}
.card{
    width: 300px;
}
    .card:hover { border-color:#ff0000; box-shadow:0 0 30px rgba(255,0,0,0.6); }
    .card img { width:100%; height:180px; object-fit:cover; }
    .info { padding:20px; text-align:center; }
    .type { background:#ff0000; padding:5px 15px; border-radius:20px; font-size:0.9rem; display:inline-block; margin-bottom:10px; }
    .name { font-size:1.4rem; color:#ff3366; margin:10px 0; font-family:'Orbitron'; }
    .selected { color:#0f0; font-size:1.5rem; font-weight:bold; }

    .delete { 
      position:absolute; top:10px; right:10px; 
      background:#ff0000; color:#fff; border:none; 
      width:40px; height:40px; border-radius:50%; 
      font-size:1.5rem; cursor:pointer; 
    }

    .total { text-align:center; font-size:2.5rem; color:#ff0000; margin:50px 0; text-shadow:0 0 20px #ff0000; }

    .btn-big { 
      display:block; margin:40px auto; 
      padding:20px 70px; background:#ff0000; color:#fff; 
      border:none; border-radius:50px; font-size:1.8rem; 
      font-family:'Orbitron'; cursor:pointer; 
      box-shadow:0 0 30px #ff0000; transition:0.4s; 
    }
    .btn-big:hover { transform:scale(1.1); box-shadow:0 0 50px #ff0000; }

    .empty { text-align:center; font-size:1.6rem; color:#666; margin-top:100px; }
    .empty a { color:#ff0000; text-decoration:none; }
            :root{--y:red;--d:#0f0f0f;--g:#1a1a1a}*{margin:0;padding:0;box-sizing:border-box}

    .cart-btn {
position: fixed;
left: 20px;
bottom: 85px;
width: 60px;
height: 60px;
background: #ff0000;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
cursor: pointer;
box-shadow: 0 4px 12px rgba(0,0,0,0.3); 
z-index: 100;
}


.cart-btn img {
width: 28px;
}


.cart-count {
position: absolute;
top: -5px;
right: -5px;
background: #000;
color: #fff;
width: 22px;
height: 22px;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
font-size: 12px;
font-weight: bold;
}
.nav {
    position: relative;
}

.hamburger {
    display: none;
    flex-direction: column;
    justify-content: space-between;
    width: 40px;
    height: 30px;
    cursor: pointer;
    z-index: 10001;
}

.hamburger span {
    width: 100%;
    height: 4px;
    background: red;
    border-radius: 10px;
    transition: .4s;
    box-shadow: 0 0 10px red;
}

.hamburger.active span:nth-child(1){
    transform: translateY(13px) rotate(45deg);
}
.hamburger.active span:nth-child(2){
    opacity: 0;
}
.hamburger.active span:nth-child(3){
    transform: translateY(-13px) rotate(-45deg);
}


@media (max-width: 992px) {

    .hamburger {
        display: flex;
    }

    .nav ul {
        position: fixed;
        top: 0;
        left: -100%;
        width: 100vw;
        height: 100vh;
        background: #000;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 3rem;

        font-family: 'Orbitron';
        font-size: 2rem;

        opacity: 0;
        visibility: hidden;

        transition: 0.6s ease;
        z-index: 10000;
    }

  .nav ul.active {
        left: 0;
        opacity: 1;
        visibility: visible;
        display: flex;
    }

    .nav ul li {
        list-style: none;
    }

    .nav ul li a {
        color: red;
        text-shadow: 0 0 20px red;
    }
}

  </style>
</head>
<body>
<header class="head">
    <div class="logo">
        <h2 onclick="window.location.href='admin.html'">N_Comp_Store</h2>
    </div>

    <nav class="nav">
        <ul id="navList">
            <li><a href="index.html">Bosh sahifa</a></li>
            <li><a href="products.html">Mahsulotlar</a></li>
            <li><a href="zapchast.html">Zapchast</a></li>
            <li><a href="yigish.html">Yig'ish</a></li>
            <li><a href="korzinka.html">Korzina</a></li>
            <li><a href="aloqa.html">Aloqa</a></li>
        </ul>

        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>
        <i onclick="window.location.href='yigish1.html'" class="fa-solid fa-language"></i>

</header>

<script>
    const hamburger = document.getElementById("hamburger");
    const navList = document.getElementById("navList");

    hamburger.onclick = () => {
        hamburger.classList.toggle("active");
        navList.classList.toggle("active");
    };
</script>


<div class="cart-btn" onclick="location.href='korzinka.html'">
    <img src="https://cdn-icons-png.flaticon.com/512/3144/3144456.png" alt="Savat">
    <span class="cart-count" id="cartCount">0</span>
</div>

<div class="scroll-top" onclick="scrollToTop()">
  <i class="fas fa-arrow-up"></i>
</div>

<script>
const scrollTopBtn = document.querySelector('.scroll-top');
window.addEventListener('scroll', () => {
    if(window.scrollY > 200) {
        scrollTopBtn.classList.add('show');
    } else {
        scrollTopBtn.classList.remove('show');
    }
});

function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

function updateCartCount() {
    const cart = JSON.parse(localStorage.getItem('korzinka') || '[]');
    const count = cart.reduce((acc, item) => acc + item.quantity, 0);
    const cartCountElem = document.getElementById('cartCount');
    if(cartCountElem) cartCountElem.textContent = count;
}

updateCartCount();
</script>


<h1>PC YIG'ISH</h1>

<div class="container">
  <div class="parts" id="list"></div>
  <div class="parts" id="list"></div>
  <div class="parts" id="list"></div>
  <div class="parts" id="list"></div>
</div>
<button class="btn-big" onclick="finish()">TAYYOR PC NI KO‘RISH</button>

<script>
  let pc = JSON.parse(localStorage.getItem("selectedPC") || "[]");

  const url = new URLSearchParams(location.search);
  const name = url.get("name");
  const type = url.get("type");
  const img  = url.get("img");

  if (name && type) {
    pc = pc.filter(x => x.type !== type);
    pc.push({ name, type, img: img || "no-image.jpg" });
    localStorage.setItem("selectedPC", JSON.stringify(pc));
    history.replaceState(null, null, "yigish.html");
  }

  function render() {
    const list = document.getElementById("list");
    list.innerHTML = "";

    if (pc.length === 0) {
      list.innerHTML = `<div class="empty">Hozircha hech narsa tanlanmagan<br><br>
                        <a href="zapchast.html">← Zapchastlarga qaytish</a></div>`;
      document.getElementById("total").textContent = "Umumiy narx: 0 so‘m";
      return;
    }

    let total = 0;

    pc.forEach((item, i) => {
      const price = parseInt(item.name.replace(/[^\d]/g, "")) || 0;
      total += price;

      list.innerHTML += `
        <div class="card">
          <button class="delete" onclick="remove(${i})">×</button>
          <img src="${item.img}" onerror="this.src='no-image.jpg'">
          <div class="info">
            <div class="type">${uzType(item.type)}</div>
            <div class="name">${item.name}</div>
            <div class="selected">Tanlandi</div>
          </div>
        </div>
      `;
    });

    document.getElementById("total").textContent = 
      "Umumiy narx: " + total.toLocaleString() + " so‘m";
  }

  function uzType(t) {
    const m = {gpu:"Videokarta", cpu:"Protsessor", mb:"Materinskiy plata", 
               ram:"RAM", ssd:"SSD", psu:"Blok pitaniya", 
               case:"Korpus", cooler:"Sovutish"};
    return m[t] || t.toUpperCase();
  }

  function remove(i) {
    pc.splice(i, 1);
    localStorage.setItem("selectedPC", JSON.stringify(pc));
    render();
  }

  function finish() {
    if (pc.length === 0) return alert("Hech narsa tanlanmagan!");
    localStorage.setItem("finalPC", JSON.stringify(pc));
    location.href = "pc.html";
  }

  render();
</script>

</body>
</html>